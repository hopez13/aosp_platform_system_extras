{
  "comments": [
    {
      "key": {
        "uuid": "dc6d068b_5970e37e",
        "filename": "brillo_config/Android.mk",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2018-02-14T23:29:25Z",
      "side": 0,
      "message": "Did you still want this behavior? It\u0027s simple enough to enable by adding $(BUILD_DATETIME_FILE) to the dependency list.",
      "range": {
        "startLine": 80,
        "startChar": 0,
        "endLine": 81,
        "endChar": 27
      },
      "revId": "3579c4460bbd10f1f1b866859dfa4000774e9962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca496863_3232a38b",
        "filename": "brillo_config/Android.mk",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1079733
      },
      "writtenOn": "2018-02-14T23:59:20Z",
      "side": 0,
      "message": "Yes, but Nan told me that BUILD_DATETIME_FROM_FILE will be different for every build as well, what does adding the dependency achieve?",
      "parentUuid": "dc6d068b_5970e37e",
      "range": {
        "startLine": 80,
        "startChar": 0,
        "endLine": 81,
        "endChar": 27
      },
      "revId": "3579c4460bbd10f1f1b866859dfa4000774e9962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6365a8a0_4be44524",
        "filename": "brillo_config/Android.mk",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2018-02-15T00:19:49Z",
      "side": 0,
      "message": "The contents of the file will be different, but the actual command line will be the same, so ninja won\u0027t treat it as dirty.\n\nThat being said, we don\u0027t actually want to regenerate this file every time you run `m`, because that means we have to regenerate any images that use this file.\n\nPreviously this was changing only when we re-read the Android.mk files, so if you didn\u0027t need to re-read the makefiles, two runs of `m` wouldn\u0027t need to do anything.\n\nIf you depend on BUILD_DATETIME_FILE, we\u0027ll update this file every time you run `m`, so you\u0027ll always need to regenerate your system images.\n\nI\u0027d highly recommend just using the existing build dates that are set up in system properties rather than trying to do your own.",
      "parentUuid": "ca496863_3232a38b",
      "range": {
        "startLine": 80,
        "startChar": 0,
        "endLine": 81,
        "endChar": 27
      },
      "revId": "3579c4460bbd10f1f1b866859dfa4000774e9962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81b7f6db_81229d15",
        "filename": "brillo_config/Android.mk",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1079733
      },
      "writtenOn": "2018-02-15T00:39:55Z",
      "side": 0,
      "message": "I see, thanks for the explanation, this time is only used in local build as part of the version string, I guess it\u0027s fine to not update this every time we do `m` if the consequence is having to rebuild system image all the time, I don\u0027t think it\u0027s worth it.\nIf we don\u0027t depend on BUILD_DATETIME_FILE, then when does it gets updated?\nWe can\u0027t just use the system properties ro.build.date.utc instead of this version file because the time here is only needed in a local build and we will use the build number for official builds on the builder. However if there\u0027s a build variable that\u0027s the same value as that property, I think we can use that here.",
      "parentUuid": "6365a8a0_4be44524",
      "range": {
        "startLine": 80,
        "startChar": 0,
        "endLine": 81,
        "endChar": 27
      },
      "revId": "3579c4460bbd10f1f1b866859dfa4000774e9962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}