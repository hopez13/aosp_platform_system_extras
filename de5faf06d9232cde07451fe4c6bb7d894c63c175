{
  "comments": [
    {
      "key": {
        "uuid": "23721991_b3fc15a3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-05-17T14:01:36Z",
      "side": 1,
      "message": "Not sure if this is the right method to verify: go/manual-ab-ota\n\nagampe@, can you confirm?",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 16,
        "endChar": 35
      },
      "revId": "de5faf06d9232cde07451fe4c6bb7d894c63c175",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2d873294_d6708c1b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2018-05-17T15:15:31Z",
      "side": 1,
      "message": "It\u0027s not. The method to verify is a flash-wipe (and check the logcat during boot) - that corresponds to a first-boot situation with system_b used for preopt artifacts.",
      "parentUuid": "23721991_b3fc15a3",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 16,
        "endChar": 35
      },
      "revId": "de5faf06d9232cde07451fe4c6bb7d894c63c175",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e45097c_1da44a86",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-05-18T10:28:09Z",
      "side": 1,
      "message": "Thanks, verification passed!\n\nDetails: b/78613232#comment14",
      "parentUuid": "2d873294_d6708c1b",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 16,
        "endChar": 35
      },
      "revId": "de5faf06d9232cde07451fe4c6bb7d894c63c175",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e402244_3952a14c",
        "filename": "cppreopts/cppreopts.rc",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-05-17T14:19:26Z",
      "side": 1,
      "message": "Need to check if line 36-40 will still execute if line 35 fails.\n\nIf the latter lines still run, might need to use another mount point other than /postinstall.\nOtherwise, there might be race condition because line 19-23 is identical to line 36-40.\nBut only one of them needs to be executed.",
      "range": {
        "startLine": 35,
        "startChar": 3,
        "endLine": 35,
        "endChar": 66
      },
      "revId": "de5faf06d9232cde07451fe4c6bb7d894c63c175",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "84257cd2_2524dcd6",
        "filename": "cppreopts/cppreopts.rc",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 1061057
      },
      "writtenOn": "2018-05-18T08:04:32Z",
      "side": 1,
      "message": "Not sure if it\u0027s a good idea. If execution will continue, how about just mount on two symlinks:\non property:sys.cppreopt\u003drequested \u0026\u0026 property:ro.boot.slot_suffix\u003d_a\n    mount ext4 /dev/block/bootdevice/by-name/system_b /postinstall ro nosuid nodev noexec\n    mount ext4 /dev/block/by-name/system_b /postinstall ro nosuid nodev noexec\n    exec - root -- /system/bin/cppreopts.sh /postinstall\n    ...",
      "parentUuid": "8e402244_3952a14c",
      "range": {
        "startLine": 35,
        "startChar": 3,
        "endLine": 35,
        "endChar": 66
      },
      "revId": "de5faf06d9232cde07451fe4c6bb7d894c63c175",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eeb9fc4d_3188ba59",
        "filename": "cppreopts/cppreopts.rc",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-05-18T08:06:26Z",
      "side": 1,
      "message": "+1, I was thinking about the same thing!\n\nI think it should be ok, either mount should succeed.",
      "parentUuid": "84257cd2_2524dcd6",
      "range": {
        "startLine": 35,
        "startChar": 3,
        "endLine": 35,
        "endChar": 66
      },
      "revId": "de5faf06d9232cde07451fe4c6bb7d894c63c175",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38bf66fc_e57c2d2f",
        "filename": "cppreopts/cppreopts.rc",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-05-18T10:28:09Z",
      "side": 1,
      "message": "With the latest change in init, we\u0027ll fallback to use the \u0027boot_device\u0027 (e.g., soc/1da4000.ufshc) value extracted from fstab-dt + /vendor/etc/fstab.{ro.hardware}.\n\nTherefore, we can cleanly switch to /dev/block/by-name/system_[ab] now!\n\nhttps://android-review.googlesource.com/c/platform/system/core/+/674989",
      "parentUuid": "eeb9fc4d_3188ba59",
      "range": {
        "startLine": 35,
        "startChar": 3,
        "endLine": 35,
        "endChar": 66
      },
      "revId": "de5faf06d9232cde07451fe4c6bb7d894c63c175",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}