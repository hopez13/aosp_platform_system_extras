{
  "comments": [
    {
      "key": {
        "uuid": "95b5bd7c_b6eb2927",
        "filename": "simpleperf/inferno.bat",
        "patchSetId": 9
      },
      "lineNbr": 1,
      "author": {
        "id": 1056364
      },
      "writtenOn": "2017-07-11T01:34:42Z",
      "side": 1,
      "message": "why need inferno.bat and inferno.sh? can\u0027t I just use `python inferno.py` on all platforms?",
      "range": {
        "startLine": 1,
        "startChar": 18,
        "endLine": 1,
        "endChar": 25
      },
      "revId": "f97202e5e43ddba472af4f0b00f71ea3fe5ccd20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "555109a8_778d5009",
        "filename": "simpleperf/inferno.bat",
        "patchSetId": 9
      },
      "lineNbr": 1,
      "author": {
        "id": 1083168
      },
      "writtenOn": "2017-07-12T01:02:18Z",
      "side": 1,
      "message": "Because you need to type the package name, so it is not:\npython inferno.py\nbut \npython -m inferno.inferno\n\nI want to make the took as easy to start as possible. A bash script seems perfect to hide the package complexity.",
      "parentUuid": "95b5bd7c_b6eb2927",
      "range": {
        "startLine": 1,
        "startChar": 18,
        "endLine": 1,
        "endChar": 25
      },
      "revId": "f97202e5e43ddba472af4f0b00f71ea3fe5ccd20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7122dcd6_91ea32f9",
        "filename": "simpleperf/inferno.bat",
        "patchSetId": 9
      },
      "lineNbr": 1,
      "author": {
        "id": 1056364
      },
      "writtenOn": "2017-07-12T03:11:30Z",
      "side": 1,
      "message": "It might be a silly question, why can\u0027t I just cd simpleperf/inferno and run `python inferno.py` ? Because I think .bat file is not very cool. And use the same way to run inferno on all platforms looks better.",
      "parentUuid": "555109a8_778d5009",
      "range": {
        "startLine": 1,
        "startChar": 18,
        "endLine": 1,
        "endChar": 25
      },
      "revId": "f97202e5e43ddba472af4f0b00f71ea3fe5ccd20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "80888ad6_6231e6f0",
        "filename": "simpleperf/inferno/README.md",
        "patchSetId": 9
      },
      "lineNbr": 1,
      "author": {
        "id": 1056364
      },
      "writtenOn": "2017-07-11T01:34:42Z",
      "side": 1,
      "message": "I prefer to add inferno readme as a section in simpleperf/README.md, especially since we want to add inferno to ndk release. But not necessary in this CL.",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 1
      },
      "revId": "f97202e5e43ddba472af4f0b00f71ea3fe5ccd20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "113dd872_b53668aa",
        "filename": "simpleperf/inferno/README.md",
        "patchSetId": 9
      },
      "lineNbr": 1,
      "author": {
        "id": 1083168
      },
      "writtenOn": "2017-07-12T01:02:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "80888ad6_6231e6f0",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 1
      },
      "revId": "f97202e5e43ddba472af4f0b00f71ea3fe5ccd20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b16073a6_91db0352",
        "filename": "simpleperf/inferno/README.md",
        "patchSetId": 9
      },
      "lineNbr": 1,
      "author": {
        "id": 1056364
      },
      "writtenOn": "2017-07-12T03:11:30Z",
      "side": 1,
      "message": "forgot to remove this file?",
      "parentUuid": "113dd872_b53668aa",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 1
      },
      "revId": "f97202e5e43ddba472af4f0b00f71ea3fe5ccd20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "93e64e40_e117d72a",
        "filename": "simpleperf/inferno/README.md",
        "patchSetId": 9
      },
      "lineNbr": 5,
      "author": {
        "id": 1056364
      },
      "writtenOn": "2017-07-11T01:34:42Z",
      "side": 1,
      "message": "80 columns per line for REDME.md?",
      "range": {
        "startLine": 5,
        "startChar": 53,
        "endLine": 5,
        "endChar": 60
      },
      "revId": "f97202e5e43ddba472af4f0b00f71ea3fe5ccd20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9e96b86c_6748f3e1",
        "filename": "simpleperf/inferno/README.md",
        "patchSetId": 9
      },
      "lineNbr": 5,
      "author": {
        "id": 1083168
      },
      "writtenOn": "2017-07-12T01:02:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "93e64e40_e117d72a",
      "range": {
        "startLine": 5,
        "startChar": 53,
        "endLine": 5,
        "endChar": 60
      },
      "revId": "f97202e5e43ddba472af4f0b00f71ea3fe5ccd20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "186546f4_9715adc9",
        "filename": "simpleperf/inferno/README.md",
        "patchSetId": 9
      },
      "lineNbr": 7,
      "author": {
        "id": 1056364
      },
      "writtenOn": "2017-07-11T01:34:42Z",
      "side": 1,
      "message": "This can be removed. Because:\n1. arm64 has good support for frame pointers.  Even if the code is compiled not using -fno-omit-frame-pointer, it always contains frame pointers as far as I can see.\n2. frame-pointer based callgraph is not the only choice. simpleperf also supports dwarf based callgraph. So we can also support callgraphs on arm via dwarf.",
      "range": {
        "startLine": 6,
        "startChar": 49,
        "endLine": 7,
        "endChar": 73
      },
      "revId": "f97202e5e43ddba472af4f0b00f71ea3fe5ccd20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "40d1e3d8_8588ca63",
        "filename": "simpleperf/inferno/README.md",
        "patchSetId": 9
      },
      "lineNbr": 7,
      "author": {
        "id": 1083168
      },
      "writtenOn": "2017-07-12T01:02:18Z",
      "side": 1,
      "message": "I have never been able to get simpleperf to work well without framepointer unwinding:\n\n1/ When unrolling fails, we get a lot of noise at the base of the flames.\n2/ Even if it works, stack copying is so expensive we cannot get a sampling frequency high enough to be useful, especially for processes like surfaceflinger which uses little CPU.\n\nFor these two reasons I prefer to use Inferno with frame pointers.",
      "parentUuid": "186546f4_9715adc9",
      "range": {
        "startLine": 6,
        "startChar": 49,
        "endLine": 7,
        "endChar": 73
      },
      "revId": "f97202e5e43ddba472af4f0b00f71ea3fe5ccd20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d51767d3_fe07f40f",
        "filename": "simpleperf/inferno/README.md",
        "patchSetId": 9
      },
      "lineNbr": 7,
      "author": {
        "id": 1056364
      },
      "writtenOn": "2017-07-12T03:11:30Z",
      "side": 1,
      "message": "I see. flamegraph has higher requirement for complete callgraph than simpleperf report. So for native Android application, you mean fully c++ applications, not java/c++ combined applications?\n\nMy ideas are:\n1. If enforcing using stack frame pointers, it excludes all java and java/c++ applications. Then it becomes almost not useful for ndk users.\n2. Even if enforcing stack frame pointers, I wonder how good it works on arm, because arm has both thumb/arm code, which doesn\u0027t have the same view of stack frame pointers.\n3. In my experience, the callgraph generated by stack frame pointers and dwarf debug frames on arm64 are similar.\n4. dwarf based callgraph does take much more cpu, but it works.",
      "parentUuid": "40d1e3d8_8588ca63",
      "range": {
        "startLine": 6,
        "startChar": 49,
        "endLine": 7,
        "endChar": 73
      },
      "revId": "f97202e5e43ddba472af4f0b00f71ea3fe5ccd20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e05c2322_f967a6ae",
        "filename": "simpleperf/inferno/README.md",
        "patchSetId": 9
      },
      "lineNbr": 7,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2017-07-12T05:38:27Z",
      "side": 1,
      "message": "telling people \"use a 64-bit build for better profiling\" is fine by me... the sooner we move developers over to LP64 the better for everyone.",
      "parentUuid": "d51767d3_fe07f40f",
      "range": {
        "startLine": 6,
        "startChar": 49,
        "endLine": 7,
        "endChar": 73
      },
      "revId": "f97202e5e43ddba472af4f0b00f71ea3fe5ccd20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1882fd6a_f869a92c",
        "filename": "simpleperf/inferno/inferno.py",
        "patchSetId": 9
      },
      "lineNbr": 58,
      "author": {
        "id": 1056364
      },
      "writtenOn": "2017-07-11T01:34:42Z",
      "side": 1,
      "message": "./simpleperf, otherwise you may be using /system/bin/simpleperf instead of simpleperf you downloaded to device. But if changing to ./simpleperf, I guess the adb root version won\u0027t work.",
      "range": {
        "startLine": 58,
        "startChar": 19,
        "endLine": 58,
        "endChar": 29
      },
      "revId": "f97202e5e43ddba472af4f0b00f71ea3fe5ccd20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8d7e2f90_b01617a4",
        "filename": "simpleperf/inferno/inferno.py",
        "patchSetId": 9
      },
      "lineNbr": 58,
      "author": {
        "id": 1083168
      },
      "writtenOn": "2017-07-12T01:02:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1882fd6a_f869a92c",
      "range": {
        "startLine": 58,
        "startChar": 19,
        "endLine": 58,
        "endChar": 29
      },
      "revId": "f97202e5e43ddba472af4f0b00f71ea3fe5ccd20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a96df17_2d6c5e70",
        "filename": "simpleperf/inferno/inferno.py",
        "patchSetId": 9
      },
      "lineNbr": 59,
      "author": {
        "id": 1056364
      },
      "writtenOn": "2017-07-11T01:34:42Z",
      "side": 1,
      "message": "simpleperf has removed this option and dump symbols by default.",
      "range": {
        "startLine": 59,
        "startChar": 4,
        "endLine": 59,
        "endChar": 18
      },
      "revId": "f97202e5e43ddba472af4f0b00f71ea3fe5ccd20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d0e6b059_8f046293",
        "filename": "simpleperf/inferno/inferno.py",
        "patchSetId": 9
      },
      "lineNbr": 59,
      "author": {
        "id": 1083168
      },
      "writtenOn": "2017-07-12T01:02:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1a96df17_2d6c5e70",
      "range": {
        "startLine": 59,
        "startChar": 4,
        "endLine": 59,
        "endChar": 18
      },
      "revId": "f97202e5e43ddba472af4f0b00f71ea3fe5ccd20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}