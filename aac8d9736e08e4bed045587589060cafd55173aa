{
  "comments": [
    {
      "key": {
        "uuid": "1f30ba11_281d6fb0",
        "filename": "brillo_config/Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-10-12T20:30:26Z",
      "side": 1,
      "message": "Any time you include base_rules.mk it is a red flag.  base_rules.mk should be treated as an internal implementation detail of the build system as much as possible.  If we don\u0027t have a supported way to run an arbitrary command to generate an installed file then we should add one.  Maybe Ying can weigh in if there is a more appropriate way of handling this.",
      "revId": "aac8d9736e08e4bed045587589060cafd55173aa",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfb462b2_4ea66700",
        "filename": "brillo_config/Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1076133
      },
      "writtenOn": "2015-10-12T21:52:51Z",
      "side": 1,
      "message": "I agree this is not ideal :/\nThis CL is blocking some of my team members. If we need a new build rule for this, I\u0027d rather not block this CL on the new mechanism.",
      "parentUuid": "1f30ba11_281d6fb0",
      "revId": "aac8d9736e08e4bed045587589060cafd55173aa",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3fa3be81_e93e31f4",
        "filename": "brillo_config/Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-10-12T20:30:26Z",
      "side": 1,
      "message": "This isn\u0027t a phony rule, it is building a real file.",
      "revId": "aac8d9736e08e4bed045587589060cafd55173aa",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7fa9b65d_0b6e212e",
        "filename": "brillo_config/Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1076133
      },
      "writtenOn": "2015-10-12T21:52:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3fa3be81_e93e31f4",
      "revId": "aac8d9736e08e4bed045587589060cafd55173aa",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df39c202_438d3876",
        "filename": "brillo_config/Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-10-12T20:30:26Z",
      "side": 1,
      "message": "Same",
      "revId": "aac8d9736e08e4bed045587589060cafd55173aa",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bf3c0ef3_62ce78ba",
        "filename": "brillo_config/Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1076133
      },
      "writtenOn": "2015-10-12T21:52:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "df39c202_438d3876",
      "revId": "aac8d9736e08e4bed045587589060cafd55173aa",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "451b415b_a652e8cf",
        "filename": "brillo_config/Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1077068
      },
      "writtenOn": "2015-10-09T01:34:59Z",
      "side": 1,
      "message": "Is it safe to assume that BUILD_NUMBER is not modified/loaded after this file is processed? Otherwise you will need a bash if instead.",
      "range": {
        "startLine": 52,
        "startChar": 0,
        "endLine": 52,
        "endChar": 4
      },
      "revId": "aac8d9736e08e4bed045587589060cafd55173aa",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1f30ba11_8812bb9c",
        "filename": "brillo_config/Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-10-12T20:30:26Z",
      "side": 1,
      "message": "BUILD_NUMBER should be fine here, it is set in main.mk before anything Android.mk files get parsed",
      "parentUuid": "451b415b_a652e8cf",
      "range": {
        "startLine": 52,
        "startChar": 0,
        "endLine": 52,
        "endChar": 4
      },
      "revId": "aac8d9736e08e4bed045587589060cafd55173aa",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "45426131_2e55e784",
        "filename": "brillo_config/Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1076133
      },
      "writtenOn": "2015-10-09T00:11:34Z",
      "side": 1,
      "message": "I could also use BUILD_DATETIME directly (number of seconds since the epoch) but this seems more human friendly.",
      "range": {
        "startLine": 55,
        "startChar": 26,
        "endLine": 55,
        "endChar": 54
      },
      "revId": "aac8d9736e08e4bed045587589060cafd55173aa",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3fa3be81_09286db7",
        "filename": "brillo_config/Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-10-12T20:30:26Z",
      "side": 1,
      "message": "FYI, using a shell command here will cause the command line to change every time the Android.mk file is parsed, which will cause this file to get rewritten and any downstream dependencies rebuilt unnecessarily, slowing down incremental builds.  If you use $(BUILD_DATETIME_FROM_FILE) it will get the date from a file written in main.mk, but without a dependency that causes it to get rewritten every time, so you will likely get the date from the last time you did a clean build.",
      "parentUuid": "45426131_2e55e784",
      "range": {
        "startLine": 55,
        "startChar": 26,
        "endLine": 55,
        "endChar": 54
      },
      "revId": "aac8d9736e08e4bed045587589060cafd55173aa",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bfb7aeb4_2da539ef",
        "filename": "brillo_config/Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1076133
      },
      "writtenOn": "2015-10-12T21:52:51Z",
      "side": 1,
      "message": "That feels better, thanks!",
      "parentUuid": "3fa3be81_09286db7",
      "range": {
        "startLine": 55,
        "startChar": 26,
        "endLine": 55,
        "endChar": 54
      },
      "revId": "aac8d9736e08e4bed045587589060cafd55173aa",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}