{
  "comments": [
    {
      "key": {
        "uuid": "e5ed1160_bee15f85",
        "filename": "partition_tools/lpdump.cc",
        "patchSetId": 3
      },
      "lineNbr": 125,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2019-03-20T17:57:06Z",
      "side": 0,
      "message": "Maybe this function should try ro.boot.slot_suffix first, and go to the command line if it is empty? Reading a property takes 522ns on a slow device, not much of a cost.",
      "range": {
        "startLine": 125,
        "startChar": 51,
        "endLine": 125,
        "endChar": 73
      },
      "revId": "b48d79fa91f888fbd3fd63465f9d28b682cd74c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "94d0cc0d_1a0635f4",
        "filename": "partition_tools/lpdump.cc",
        "patchSetId": 3
      },
      "lineNbr": 125,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-03-20T20:30:55Z",
      "side": 0,
      "message": "I think fs_mgr_get_slot_suffix at very early stages of init; is property service running then?\n\nAlso, on non-A/B devices, this will always be empty, so trying the sysprop then reading kernel command line doesn\u0027t really help. \n\nUnless, of course, if you really want me to do this...",
      "parentUuid": "e5ed1160_bee15f85",
      "range": {
        "startLine": 125,
        "startChar": 51,
        "endLine": 125,
        "endChar": 73
      },
      "revId": "b48d79fa91f888fbd3fd63465f9d28b682cd74c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57125139_a720fbd6",
        "filename": "partition_tools/lpdump.cc",
        "patchSetId": 3
      },
      "lineNbr": 125,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-03-20T20:39:19Z",
      "side": 0,
      "message": "Also, I don\u0027t want lpdumpd to read kernel command line here. Otherwise I\u0027ll need to put \n\n    dontaudit lpdumpd proc_cmdline:file r_file_perms;",
      "parentUuid": "94d0cc0d_1a0635f4",
      "range": {
        "startLine": 125,
        "startChar": 51,
        "endLine": 125,
        "endChar": 73
      },
      "revId": "b48d79fa91f888fbd3fd63465f9d28b682cd74c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a40489cb_6a2e4cb8",
        "filename": "partition_tools/lpdump.cc",
        "patchSetId": 3
      },
      "lineNbr": 125,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2019-03-20T20:55:01Z",
      "side": 0,
      "message": "There are so many places that call this function in first_stage_init and afterwards. Given that the slot_suffix is so optional, I agree, my concept that property would forgo call to open cmdline is wrong minded.\n\nI think the answer should be that we create fs_mgr_get_slot_suffix_property() and use it accordingly everywhere we are guaranteed to be called after property service starts.\n\nOut of band cleanup, file a bug and move on.",
      "parentUuid": "57125139_a720fbd6",
      "range": {
        "startLine": 125,
        "startChar": 51,
        "endLine": 125,
        "endChar": 73
      },
      "revId": "b48d79fa91f888fbd3fd63465f9d28b682cd74c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d890c303_9cef4a0a",
        "filename": "partition_tools/lpdump.cc",
        "patchSetId": 3
      },
      "lineNbr": 126,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2019-03-20T17:57:06Z",
      "side": 0,
      "message": "ditto on ro.boot.super_partition first?",
      "range": {
        "startLine": 126,
        "startChar": 26,
        "endLine": 126,
        "endChar": 57
      },
      "revId": "b48d79fa91f888fbd3fd63465f9d28b682cd74c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7973559_0ba3447e",
        "filename": "partition_tools/lpdump.cc",
        "patchSetId": 3
      },
      "lineNbr": 126,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-03-20T20:30:55Z",
      "side": 0,
      "message": "Same",
      "parentUuid": "d890c303_9cef4a0a",
      "range": {
        "startLine": 126,
        "startChar": 26,
        "endLine": 126,
        "endChar": 57
      },
      "revId": "b48d79fa91f888fbd3fd63465f9d28b682cd74c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}